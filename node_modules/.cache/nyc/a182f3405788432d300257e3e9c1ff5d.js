'use strict';var cov_2dvousj16n=function(){var path="/home/ibidapo/andela-bootcamp/send-it/lib/helper/validation/parcelValidation.js",hash="a2df7ac469199b6efaa5e534d286ee84a4d9fef1",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/ibidapo/andela-bootcamp/send-it/lib/helper/validation/parcelValidation.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:13},end:{line:7,column:47}},"2":{start:{line:9,column:17},end:{line:59,column:1}},"3":{start:{line:11,column:17},end:{line:11,column:50}},"4":{start:{line:12,column:4},end:{line:14,column:5}},"5":{start:{line:13,column:6},end:{line:13,column:68}},"6":{start:{line:15,column:4},end:{line:15,column:18}},"7":{start:{line:18,column:17},end:{line:18,column:50}},"8":{start:{line:19,column:4},end:{line:21,column:5}},"9":{start:{line:20,column:6},end:{line:20,column:68}},"10":{start:{line:22,column:4},end:{line:22,column:18}},"11":{start:{line:25,column:17},end:{line:25,column:50}},"12":{start:{line:26,column:4},end:{line:28,column:5}},"13":{start:{line:27,column:6},end:{line:27,column:68}},"14":{start:{line:29,column:4},end:{line:29,column:18}},"15":{start:{line:32,column:17},end:{line:32,column:50}},"16":{start:{line:33,column:4},end:{line:35,column:5}},"17":{start:{line:34,column:6},end:{line:34,column:68}},"18":{start:{line:36,column:4},end:{line:36,column:18}},"19":{start:{line:39,column:17},end:{line:39,column:50}},"20":{start:{line:40,column:4},end:{line:42,column:5}},"21":{start:{line:41,column:6},end:{line:41,column:68}},"22":{start:{line:43,column:4},end:{line:43,column:18}},"23":{start:{line:46,column:17},end:{line:46,column:50}},"24":{start:{line:47,column:4},end:{line:49,column:5}},"25":{start:{line:48,column:6},end:{line:48,column:68}},"26":{start:{line:50,column:4},end:{line:50,column:18}},"27":{start:{line:53,column:17},end:{line:53,column:50}},"28":{start:{line:54,column:4},end:{line:56,column:5}},"29":{start:{line:55,column:6},end:{line:55,column:68}},"30":{start:{line:57,column:4},end:{line:57,column:18}},"31":{start:{line:61,column:0},end:{line:61,column:29}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:425},end:{line:10,column:426}},loc:{start:{line:10,column:451},end:{line:16,column:3}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:17,column:101},end:{line:17,column:102}},loc:{start:{line:17,column:127},end:{line:23,column:3}},line:17},"2":{name:"(anonymous_2)",decl:{start:{line:24,column:102},end:{line:24,column:103}},loc:{start:{line:24,column:128},end:{line:30,column:3}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:31,column:102},end:{line:31,column:103}},loc:{start:{line:31,column:128},end:{line:37,column:3}},line:31},"4":{name:"(anonymous_4)",decl:{start:{line:38,column:216},end:{line:38,column:217}},loc:{start:{line:38,column:242},end:{line:44,column:3}},line:38},"5":{name:"(anonymous_5)",decl:{start:{line:45,column:216},end:{line:45,column:217}},loc:{start:{line:45,column:242},end:{line:51,column:3}},line:45},"6":{name:"(anonymous_6)",decl:{start:{line:52,column:229},end:{line:52,column:230}},loc:{start:{line:52,column:255},end:{line:58,column:3}},line:52}},branchMap:{"0":{loc:{start:{line:12,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:14,column:5}},{start:{line:12,column:4},end:{line:14,column:5}}],line:12},"1":{loc:{start:{line:19,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:21,column:5}},{start:{line:19,column:4},end:{line:21,column:5}}],line:19},"2":{loc:{start:{line:26,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:26,column:4},end:{line:28,column:5}},{start:{line:26,column:4},end:{line:28,column:5}}],line:26},"3":{loc:{start:{line:33,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:35,column:5}},{start:{line:33,column:4},end:{line:35,column:5}}],line:33},"4":{loc:{start:{line:40,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:42,column:5}},{start:{line:40,column:4},end:{line:42,column:5}}],line:40},"5":{loc:{start:{line:47,column:4},end:{line:49,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:49,column:5}},{start:{line:47,column:4},end:{line:49,column:5}}],line:47},"6":{loc:{start:{line:54,column:4},end:{line:56,column:5}},type:"if",locations:[{start:{line:54,column:4},end:{line:56,column:5}},{start:{line:54,column:4},end:{line:56,column:5}}],line:54}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_2dvousj16n.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _check=(cov_2dvousj16n.s[1]++,require('express-validator/check'));var validation=(cov_2dvousj16n.s[2]++,{addParcel:[(0,_check.check)('origin').isLength({min:1}).withMessage('Sender Address cannot be empty'),(0,_check.check)('destination').isLength({min:1}).withMessage('Recipient Address cannot be empty'),(0,_check.check)('parcelKg').matches(/^\d+\.?\d*$/).withMessage('Parcel weight must be a number'),(0,_check.check)('toPhone').isLength({min:11}).matches(/^\d{11}$/).withMessage('Phone must be 11 digits'),function(req,res,next){cov_2dvousj16n.f[0]++;var errors=(cov_2dvousj16n.s[3]++,(0,_check.validationResult)(req));cov_2dvousj16n.s[4]++;if(!errors.isEmpty()){cov_2dvousj16n.b[0][0]++;cov_2dvousj16n.s[5]++;return res.status(400).send({error:errors.array()[0].msg});}else{cov_2dvousj16n.b[0][1]++;}cov_2dvousj16n.s[6]++;return next();}],cancelParcel:[(0,_check.check)('id').matches(/^\d+$/).withMessage('Parcel Id must be a number'),function(req,res,next){cov_2dvousj16n.f[1]++;var errors=(cov_2dvousj16n.s[7]++,(0,_check.validationResult)(req));cov_2dvousj16n.s[8]++;if(!errors.isEmpty()){cov_2dvousj16n.b[1][0]++;cov_2dvousj16n.s[9]++;return res.status(400).send({error:errors.array()[0].msg});}else{cov_2dvousj16n.b[1][1]++;}cov_2dvousj16n.s[10]++;return next();}],getParcelbyId:[(0,_check.check)('id').matches(/^\d+$/).withMessage('Parcel Id must be a number'),function(req,res,next){cov_2dvousj16n.f[2]++;var errors=(cov_2dvousj16n.s[11]++,(0,_check.validationResult)(req));cov_2dvousj16n.s[12]++;if(!errors.isEmpty()){cov_2dvousj16n.b[2][0]++;cov_2dvousj16n.s[13]++;return res.status(400).send({error:errors.array()[0].msg});}else{cov_2dvousj16n.b[2][1]++;}cov_2dvousj16n.s[14]++;return next();}],getParcelbyUser:[(0,_check.check)('id').matches(/^\d+$/).withMessage('User Id must be a number'),function(req,res,next){cov_2dvousj16n.f[3]++;var errors=(cov_2dvousj16n.s[15]++,(0,_check.validationResult)(req));cov_2dvousj16n.s[16]++;if(!errors.isEmpty()){cov_2dvousj16n.b[3][0]++;cov_2dvousj16n.s[17]++;return res.status(400).send({error:errors.array()[0].msg});}else{cov_2dvousj16n.b[3][1]++;}cov_2dvousj16n.s[18]++;return next();}],changeParcelDestination:[(0,_check.check)('id').matches(/^\d+$/).withMessage('Parcel Id must be a number'),(0,_check.check)('destination').isLength({min:1}).withMessage('Destination field cannot be empty'),function(req,res,next){cov_2dvousj16n.f[4]++;var errors=(cov_2dvousj16n.s[19]++,(0,_check.validationResult)(req));cov_2dvousj16n.s[20]++;if(!errors.isEmpty()){cov_2dvousj16n.b[4][0]++;cov_2dvousj16n.s[21]++;return res.status(400).send({error:errors.array()[0].msg});}else{cov_2dvousj16n.b[4][1]++;}cov_2dvousj16n.s[22]++;return next();}],changeParcelStatus:[(0,_check.check)('id').matches(/^\d+$/).withMessage('Parcel Id must be a number'),(0,_check.check)('status').isIn(['In Transit','Delivered','Cancelled']).withMessage('status is invalid'),function(req,res,next){cov_2dvousj16n.f[5]++;var errors=(cov_2dvousj16n.s[23]++,(0,_check.validationResult)(req));cov_2dvousj16n.s[24]++;if(!errors.isEmpty()){cov_2dvousj16n.b[5][0]++;cov_2dvousj16n.s[25]++;return res.status(400).send({error:errors.array()[0].msg});}else{cov_2dvousj16n.b[5][1]++;}cov_2dvousj16n.s[26]++;return next();}],changeParcelPresentLocation:[(0,_check.check)('id').matches(/^\d+$/).withMessage('Parcel Id must be a number'),(0,_check.check)('presentLocation').isLength({min:1}).withMessage('Present location field cannot be empty'),function(req,res,next){cov_2dvousj16n.f[6]++;var errors=(cov_2dvousj16n.s[27]++,(0,_check.validationResult)(req));cov_2dvousj16n.s[28]++;if(!errors.isEmpty()){cov_2dvousj16n.b[6][0]++;cov_2dvousj16n.s[29]++;return res.status(400).send({error:errors.array()[0].msg});}else{cov_2dvousj16n.b[6][1]++;}cov_2dvousj16n.s[30]++;return next();}]});cov_2dvousj16n.s[31]++;exports.default=validation;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcmNlbFZhbGlkYXRpb24uanMiXSwibmFtZXMiOlsidmFsaWRhdGlvbiIsImFkZFBhcmNlbCIsImlzTGVuZ3RoIiwibWluIiwid2l0aE1lc3NhZ2UiLCJtYXRjaGVzIiwicmVxIiwicmVzIiwibmV4dCIsImVycm9ycyIsImlzRW1wdHkiLCJzdGF0dXMiLCJzZW5kIiwiZXJyb3IiLCJhcnJheSIsIm1zZyIsImNhbmNlbFBhcmNlbCIsImdldFBhcmNlbGJ5SWQiLCJnZXRQYXJjZWxieVVzZXIiLCJjaGFuZ2VQYXJjZWxEZXN0aW5hdGlvbiIsImNoYW5nZVBhcmNlbFN0YXR1cyIsImlzSW4iLCJjaGFuZ2VQYXJjZWxQcmVzZW50TG9jYXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUVBLElBQU1BLGFBQWE7QUFDakJDLGFBQVcsQ0FDVCxrQkFBTSxRQUFOLEVBQWdCQyxRQUFoQixDQUF5QixFQUFFQyxLQUFLLENBQVAsRUFBekIsRUFBcUNDLFdBQXJDLENBQWlELGdDQUFqRCxDQURTLEVBRVQsa0JBQU0sYUFBTixFQUFxQkYsUUFBckIsQ0FBOEIsRUFBRUMsS0FBSyxDQUFQLEVBQTlCLEVBQTBDQyxXQUExQyxDQUFzRCxtQ0FBdEQsQ0FGUyxFQUdULGtCQUFNLFVBQU4sRUFBa0JDLE9BQWxCLENBQTBCLGFBQTFCLEVBQXlDRCxXQUF6QyxDQUFxRCxnQ0FBckQsQ0FIUyxFQUlULGtCQUFNLFNBQU4sRUFBaUJGLFFBQWpCLENBQTBCLEVBQUVDLEtBQUssRUFBUCxFQUExQixFQUF1Q0UsT0FBdkMsQ0FBK0MsVUFBL0MsRUFBMkRELFdBQTNELENBQXVFLHlCQUF2RSxDQUpTLEVBS1QsVUFBQ0UsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsRUFBb0I7QUFDbEIsUUFBTUMsU0FBUyw2QkFBaUJILEdBQWpCLENBQWY7QUFDQSxRQUFJLENBQUNHLE9BQU9DLE9BQVAsRUFBTCxFQUF1QjtBQUNyQixhQUFPSCxJQUFJSSxNQUFKLENBQVcsR0FBWCxFQUFn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LEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW9CO0FBQ2xCLFFBQU1DLFNBQVMsNkJBQWlCSCxHQUFqQixDQUFmO0FBQ0EsUUFBSSxDQUFDRyxPQUFPQyxPQUFQLEVBQUwsRUFBdUI7QUFDckIsYUFBT0gsSUFBSUksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQUVDLE9BQU9KLE9BQU9LLEtBQVAsR0FBZSxDQUFmLEVBQWtCQyxHQUEzQixFQUFyQixDQUFQO0FBQ0Q7QUFDRCxXQUFPUCxNQUFQO0FBQ0QsR0FUaUIsQ0F2REg7QUFrRWpCYywrQkFBNkIsQ0FDM0Isa0JBQU0sSUFBTixFQUFZakIsT0FBWixDQUFvQixPQUFwQixFQUE2QkQsV0FBN0IsQ0FBeUMsNEJBQXpDLENBRDJCLEVBRTNCLGtCQUFNLGlCQUFOLEVBQXlCRixRQUF6QixDQUFrQyxFQUFFQyxLQUFLLENBQVAsRUFBbEMsRUFBOENDLFdBQTlDLENBQTBELHdDQUExRCxDQUYyQixFQUczQixVQUFDRSxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtBQUNsQixRQUFNQyxTQUFTLDZCQUFpQkgsR0FBakIsQ0FBZjtBQUNBLFFBQUksQ0FBQ0csT0FBT0MsT0FBUCxFQUFMLEVBQXVCO0FBQ3JCLGFBQU9ILElBQUlJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixFQUFFQyxPQUFPSixPQUFPSyxLQUFQLEdBQWUsQ0FBZixFQUFrQkMsR0FBM0IsRUFBckIsQ0FBUDtBQUNEO0FBQ0QsV0FBT1AsTUFBUDtBQUNELEdBVDBCO0FBbEVaLENBQW5COztrQkErRWVSLFUiLCJmaWxlIjoicGFyY2VsVmFsaWRhdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9pYmlkYXBvL2FuZGVsYS1ib290Y2FtcC9zZW5kLWl0L2xpYi9oZWxwZXIvdmFsaWRhdGlvbiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNoZWNrLCB2YWxpZGF0aW9uUmVzdWx0IH0gZnJvbSAnZXhwcmVzcy12YWxpZGF0b3IvY2hlY2snO1xuXG5jb25zdCB2YWxpZGF0aW9uID0ge1xuICBhZGRQYXJjZWw6IFtcbiAgICBjaGVjaygnb3JpZ2luJykuaXNMZW5ndGgoeyBtaW46IDEgfSkud2l0aE1lc3NhZ2UoJ1NlbmRlciBBZGRyZXNzIGNhbm5vdCBiZSBlbXB0eScpLFxuICAgIGNoZWNrKCdkZXN0aW5hdGlvbicpLmlzTGVuZ3RoKHsgbWluOiAxIH0pLndpdGhNZXNzYWdlKCdSZWNpcGllbnQgQWRkcmVzcyBjYW5ub3QgYmUgZW1wdHknKSxcbiAgICBjaGVjaygncGFyY2VsS2cnKS5tYXRjaGVzKC9eXFxkK1xcLj9cXGQqJC8pLndpdGhNZXNzYWdlKCdQYXJjZWwgd2VpZ2h0IG11c3QgYmUgYSBudW1iZXInKSxcbiAgICBjaGVjaygndG9QaG9uZScpLmlzTGVuZ3RoKHsgbWluOiAxMSB9KS5tYXRjaGVzKC9eXFxkezExfSQvKS53aXRoTWVzc2FnZSgnUGhvbmUgbXVzdCBiZSAxMSBkaWdpdHMnKSxcbiAgICAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICAgIGlmICghZXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBlcnJvcjogZXJyb3JzLmFycmF5KClbMF0ubXNnIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9LFxuICBdLFxuICBjYW5jZWxQYXJjZWw6IFtcbiAgICBjaGVjaygnaWQnKS5tYXRjaGVzKC9eXFxkKyQvKS53aXRoTWVzc2FnZSgnUGFyY2VsIElkIG11c3QgYmUgYSBudW1iZXInKSxcbiAgICAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICAgIGlmICghZXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBlcnJvcjogZXJyb3JzLmFycmF5KClbMF0ubXNnIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9LFxuICBdLFxuICBnZXRQYXJjZWxieUlkOiBbXG4gICAgY2hlY2soJ2lkJykubWF0Y2hlcygvXlxcZCskLykud2l0aE1lc3NhZ2UoJ1BhcmNlbCBJZCBtdXN0IGJlIGEgbnVtYmVyJyksXG4gICAgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICBjb25zdCBlcnJvcnMgPSB2YWxpZGF0aW9uUmVzdWx0KHJlcSk7XG4gICAgICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsgZXJyb3I6IGVycm9ycy5hcnJheSgpWzBdLm1zZyB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfSxcbiAgXSxcbiAgZ2V0UGFyY2VsYnlVc2VyOiBbXG4gICAgY2hlY2soJ2lkJykubWF0Y2hlcygvXlxcZCskLykud2l0aE1lc3NhZ2UoJ1VzZXIgSWQgbXVzdCBiZSBhIG51bWJlcicpLFxuICAgIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JzID0gdmFsaWRhdGlvblJlc3VsdChyZXEpO1xuICAgICAgaWYgKCFlcnJvcnMuaXNFbXB0eSgpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IGVycm9yOiBlcnJvcnMuYXJyYXkoKVswXS5tc2cgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH0sXG4gIF0sXG4gIGNoYW5nZVBhcmNlbERlc3RpbmF0aW9uOiBbXG4gICAgY2hlY2soJ2lkJykubWF0Y2hlcygvXlxcZCskLykud2l0aE1lc3NhZ2UoJ1BhcmNlbCBJZCBtdXN0IGJlIGEgbnVtYmVyJyksXG4gICAgY2hlY2soJ2Rlc3RpbmF0aW9uJykuaXNMZW5ndGgoeyBtaW46IDEgfSkud2l0aE1lc3NhZ2UoJ0Rlc3RpbmF0aW9uIGZpZWxkIGNhbm5vdCBiZSBlbXB0eScpLFxuICAgIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JzID0gdmFsaWRhdGlvblJlc3VsdChyZXEpO1xuICAgICAgaWYgKCFlcnJvcnMuaXNFbXB0eSgpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IGVycm9yOiBlcnJvcnMuYXJyYXkoKVswXS5tc2cgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH0sXG4gIF0sXG4gIGNoYW5nZVBhcmNlbFN0YXR1czogW1xuICAgIGNoZWNrKCdpZCcpLm1hdGNoZXMoL15cXGQrJC8pLndpdGhNZXNzYWdlKCdQYXJjZWwgSWQgbXVzdCBiZSBhIG51bWJlcicpLFxuICAgIGNoZWNrKCdzdGF0dXMnKS5pc0luKFsnSW4gVHJhbnNpdCcsICdEZWxpdmVyZWQnLCAnQ2FuY2VsbGVkJ10pLndpdGhNZXNzYWdlKCdzdGF0dXMgaXMgaW52YWxpZCcpLFxuICAgIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JzID0gdmFsaWRhdGlvblJlc3VsdChyZXEpO1xuICAgICAgaWYgKCFlcnJvcnMuaXNFbXB0eSgpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IGVycm9yOiBlcnJvcnMuYXJyYXkoKVswXS5tc2cgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH0sXG4gIF0sXG4gIGNoYW5nZVBhcmNlbFByZXNlbnRMb2NhdGlvbjogW1xuICAgIGNoZWNrKCdpZCcpLm1hdGNoZXMoL15cXGQrJC8pLndpdGhNZXNzYWdlKCdQYXJjZWwgSWQgbXVzdCBiZSBhIG51bWJlcicpLFxuICAgIGNoZWNrKCdwcmVzZW50TG9jYXRpb24nKS5pc0xlbmd0aCh7IG1pbjogMSB9KS53aXRoTWVzc2FnZSgnUHJlc2VudCBsb2NhdGlvbiBmaWVsZCBjYW5ub3QgYmUgZW1wdHknKSxcbiAgICAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICAgIGlmICghZXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBlcnJvcjogZXJyb3JzLmFycmF5KClbMF0ubXNnIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9LFxuICBdLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGlvbjtcbiJdfQ==
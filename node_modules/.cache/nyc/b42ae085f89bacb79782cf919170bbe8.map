{"version":3,"sources":["mail.js"],"names":["emailNofication","to","subject","text","nodemailer","createTestAccount","err","account","transporter","createTransport","host","port","secure","auth","user","pass","mailOptions","from","sendMail","error","info","console","log","messageId","getTestMessageUrl"],"mappings":";;;;;;AAAA;;;;;;AAEA;AACA;AACA,SAASA,eAAT,CAAyBC,EAAzB,EAA6BC,OAA7B,EAAsCC,IAAtC,EAA4C;AAC1CC,uBAAWC,iBAAX,CAA6B,UAACC,GAAD,EAAMC,OAAN,EAAkB;AAC7C;AACA,QAAMC,cAAcJ,qBAAWK,eAAX,CAA2B;AAC7CC,YAAM,qBADuC;AAE7CC,YAAM,GAFuC;AAG7CC,cAAQ,KAHqC,EAG9B;AACfC,YAAM;AACJC,cAAMP,QAAQO,IADV,EACgB;AACpBC,cAAMR,QAAQQ,IAFV,CAEgB;AAFhB;AAJuC,KAA3B,CAApB;;AAUA;AACA,QAAMC,cAAc;AAClBC,YAAM,8BADY,EACoB;AACtChB,YAFkB,EAEd;AACJC,sBAHkB,EAGT;AACTC,gBAJkB,CAIZ;AAJY,KAApB;;AAOA;AACAK,gBAAYU,QAAZ,CAAqBF,WAArB,EAAkC,UAACG,KAAD,EAAQC,IAAR,EAAiB;AACjD,UAAID,KAAJ,EAAW;AACTE,gBAAQC,GAAR,CAAYH,KAAZ;AACD,OAFD,MAEO;AACLE,gBAAQC,GAAR,CAAY,kBAAZ,EAAgCF,KAAKG,SAArC;AACA;AACAF,gBAAQC,GAAR,CAAY,iBAAZ,EAA+BlB,qBAAWoB,iBAAX,CAA6BJ,IAA7B,CAA/B;;AAEA;AACA;AACD;AACF,KAXD;AAYD,GAjCD;AAkCD;;kBAEcpB,e","file":"mail.js","sourceRoot":"/home/ibidapo/andela-bootcamp/send-it/lib/helper/mailer","sourcesContent":["import nodemailer from 'nodemailer';\n\n// Generate test SMTP service account from ethereal.email\n// Only needed if you don't have a real mail account for testing\nfunction emailNofication(to, subject, text) {\n  nodemailer.createTestAccount((err, account) => {\n    // create reusable transporter object using the default SMTP transport\n    const transporter = nodemailer.createTransport({\n      host: 'smtp.ethereal.email',\n      port: 587,\n      secure: false, // true for 465, false for other ports\n      auth: {\n        user: account.user, // generated ethereal user\n        pass: account.pass, // generated ethereal password\n      },\n    });\n\n    // setup email data with unicode symbols\n    const mailOptions = {\n      from: '\"SendIT\" <admin@send-it.com>', // sender address\n      to, // list of receivers\n      subject, // Subject line\n      text, // plain text body\n    };\n\n    // send mail with defined transport object\n    transporter.sendMail(mailOptions, (error, info) => {\n      if (error) {\n        console.log(error);\n      } else {\n        console.log('Message sent: %s', info.messageId);\n        // Preview only available when sending through an Ethereal account\n        console.log('Preview URL: %s', nodemailer.getTestMessageUrl(info));\n\n        // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n        // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...\n      }\n    });\n  });\n}\n\nexport default emailNofication;\n"]}